extends admin
block gallery
    .db-gallery
        .db-gallery-list
            ul
                li.db-new-gallery
                    form.db-new-form(method='post', action='#{adminPath}/gallery/new')
                        input.form-control.album-name(type='text', name='name', placeholder='Album name')
                        textarea.form-control.album-desc(name='desc', placeholder='Album desc')
                        div.checkbox.album-private
                            input(type='checkbox', name='private', checked='checked', id='flat-checkbox-1')
                            label(for='flat-checkbox-1')
                                | 私密相册
                        button.album-btn(type='submit') submit
                - albums.forEach(function (item, index) {
                    li.single-album
                        a(href='#{adminPath}/gallery/#{item.name}') 
                            - if (item.cover)
                                span.db-album-cover(style='background-image: url(#{item.cover})')
                            - else
                                span.db-album-cover
                            span.db-album-name
                                - if (item.private)
                                    i.glyphicon.glyphicon-lock
                                | #{item.name} (#{item.count})
                            span.db-album-desc #{item.desc}
                - })
block admin_script
    script(type='text/javascript', src='/js/icheck.min.js')
    script.
        $("input:checkbox, input:radio").iCheck({
            checkboxClass: "icheckbox_flat-blue"
        });